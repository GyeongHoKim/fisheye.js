# Manual Focal Length Test Images

이 폴더는 다양한 `newFx` 값으로 생성된 테스트 이미지를 포함합니다.
육안으로 비교하여 최적의 focal length를 찾기 위한 용도입니다.

## 폴더 구조

각 폴더는 원본 focal length (fx = 991)의 특정 비율로 생성되었습니다:

### `original/` - 100% (newFx = 991)
- **설명**: 원본 focal length 유지 (COLMAP 스타일)
- **특징**: 
  - ✅ 가장 자연스러운 결과
  - ✅ Stretching 없음
  - ❌ 검은 테두리 있을 수 있음
- **추천**: 일반적인 감시 카메라, 자연스러운 화면

### `120pct/` - 120% (newFx = 1189.2)
- **설명**: 원본보다 20% 확대
- **특징**:
  - ✅ 더 확대된 화면 (망원 렌즈 효과)
  - ✅ Stretching 더 적음
  - ❌ FOV 더 좁음, 검은 테두리 더 많음
- **추천**: 특정 영역에 집중할 때

### `80pct/` - 80% (newFx = 792.8)
- **설명**: 원본보다 20% 축소
- **특징**:
  - ✅ 더 넓은 FOV
  - ⚠️ 약간의 stretching
  - ✅ 검은 테두리 감소
- **추천**: 넓은 영역 모니터링

### `60pct/` - 60% (newFx = 594.6)
- **설명**: 원본보다 40% 축소
- **특징**:
  - ✅ 매우 넓은 FOV
  - ⚠️ 눈에 띄는 stretching
  - ✅ 검은 테두리 거의 없음
- **추천**: 최대한 넓은 영역 필요할 때

### `40pct/` - 40% (newFx = 396.4)
- **설명**: 원본보다 60% 축소
- **특징**:
  - ⚠️ 매우 넓은 FOV
  - ❌ 심한 stretching
  - ✅ 검은 테두리 없음
- **추천**: 극단적으로 넓은 영역 필요할 때 (비추천)

### `20pct/` - 20% (newFx = 198.2)
- **설명**: 원본보다 80% 축소
- **특징**:
  - ❌ 극도로 넓은 FOV
  - ❌ 극심한 stretching (거의 사용 불가)
  - ✅ 검은 테두리 없음
- **추천**: 참고용 (실제 사용 비추천)

## 비교 가이드

### Camera 1 (Wide Angle Fisheye)
1. `original/cam1_01.jpg` - 기준 이미지
2. `80pct/cam1_01.jpg` - 약간 더 넓은 FOV
3. `60pct/cam1_01.jpg` - 넓은 FOV
4. `40pct/cam1_01.jpg` - 매우 넓은 FOV (stretching 심함)

### Camera 2 (Ultra Wide Fisheye)
Camera 2는 왜곡이 더 심하므로, 같은 비율이라도 stretching이 더 심합니다.

## OpenCV 자동 계산 비교

참고로 OpenCV의 `estimateNewCameraMatrixForUndistortRectify`가 계산한 값:
- Camera 1: `newFx = 89.22` (약 9%, 매우 작음!)
- Camera 2: `newFx = 6.78` (약 0.7%, 극도로 작음!)

이것이 `rectilinear/valid_region/` 이미지가 매우 stretched된 이유입니다.

## 추천 범위

**일반적인 사용**:
- `original/` (100%) - 가장 자연스러움
- `80pct/` (80%) - 약간 더 넓은 FOV, 여전히 자연스러움

**넓은 영역 모니터링**:
- `60pct/` (60%) - 넓은 FOV, 약간의 stretching 허용

**비추천**:
- `40pct/` (40%) 이하 - stretching이 너무 심함

## 육안 검토 체크리스트

각 이미지를 볼 때 확인할 사항:

1. **직선이 직선으로 보이는가?**
   - 건물 모서리, 문틀 등 확인

2. **사람/물체의 비율이 자연스러운가?**
   - 가장자리로 갈수록 늘어나지 않는지 확인

3. **검은 테두리가 얼마나 있는가?**
   - 사용 가능한 영역이 충분한지 확인

4. **전체적인 화면이 자연스러운가?**
   - 실제 사용 시 위화감이 없는지 확인

## 결론

육안으로 확인 후, 가장 적절한 비율을 선택하여 라이브러리의 기본값으로 사용하거나,
사용자가 선택할 수 있는 프리셋으로 제공할 수 있습니다.
